<!DOCTYPE html>
<html lang="en">
<body>
    <div><p>hello</p></div>
    <button id="myButton"></button>
    <script>
// context => this

// Case 1: Global Context
// Note: when 'this' is used outside of any function/method or object, it refers to the window(global) object.
console.log(this);

//case 2: function context
// Note: when 'this' is used inside a regular function(not an arrow function), its value depends on how the function is called.
function greet(){
    console.log('function context: ', this);
}
greet();

//case 3: Object method context
//Note: when 'this' is used inside a method of an object, it refers to the object itself.
const person = {
    name: 'Gayle',
    greet: function(){ 
        function inner(){
            console.log(this);
        }
        inner()
    }
}
person.greet();

//case 4: Constructor function context:

// Note: when 'this' is used inside a constructor function, it refers to the newly created instance of object.

function Student(name){
    this.name = name;
    console.log(this);
}

const student1 = new Student('john');
const student2 = new Student('tom');

//Case 5: Event Handler Context
//Note: when 'this' is used inside an event handler, it refers to the DOM element that triggered the event.
document.addEventListener('click',function(){
    console.log(this);
})
const button = document.getElementById('myButton');
button.addEventListener('click', function() {
  console.log(this); // Here, this refers to the button element that was clicked
});
// this keyword cases:
// this in global scope(not in a function)
// invoking function with obj.methodName
// invoking functio with new keyword
// function being invoked on any event
// none of above rule doesn't apply then this keyword will refer to 'window'


function anotherCaller() {
  console.log(`${this.caller} called, too!`);
}

const call = {
  caller: "mom", 
  anotherCaller: anotherCaller,
  says: function() {
    console.log(`Hey, ${this.caller} just called.`);
  }
};

let newCall = call.anotherCaller;
newCall();
    </script>
</body>
</html>